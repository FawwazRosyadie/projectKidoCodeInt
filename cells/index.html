<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cell Biology Adventure</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .game-container {
            background: white;
            border-radius: 20px;
            padding: 30px;
            max-width: 900px;
            width: 100%;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        h1 {
            color: #667eea;
            text-align: center;
            margin-bottom: 10px;
            font-size: 2em;
        }

        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 20px;
            font-size: 0.9em;
        }

        .progress-bar {
            width: 100%;
            height: 30px;
            background: #e0e0e0;
            border-radius: 15px;
            overflow: hidden;
            margin-bottom: 20px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            transition: width 0.5s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        .level-selector {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .level-btn {
            padding: 20px;
            border: none;
            border-radius: 10px;
            font-size: 1em;
            cursor: pointer;
            transition: all 0.3s;
            color: white;
            font-weight: bold;
        }

        .level-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }

        .level-1 { background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); }
        .level-2 { background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); }
        .level-3 { background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%); }
        .level-4 { background: linear-gradient(135deg, #fa709a 0%, #fee140 100%); }
        .level-5 { background: linear-gradient(135deg, #30cfd0 0%, #330867 100%); }
        .level-6 { background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%); }

        .game-area {
            display: none;
            min-height: 400px;
        }

        .game-area.active {
            display: block;
        }

        .question-box {
            background: #f5f5f5;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
        }

        .question-text {
            font-size: 1.2em;
            color: #333;
            margin-bottom: 15px;
        }

        .options {
            display: grid;
            gap: 10px;
        }

        .option-btn {
            padding: 15px;
            border: 2px solid #ddd;
            border-radius: 8px;
            background: white;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 1em;
            text-align: left;
        }

        .option-btn:hover {
            border-color: #667eea;
            background: #f0f0ff;
        }

        .option-btn.correct {
            background: #4caf50;
            color: white;
            border-color: #4caf50;
        }

        .option-btn.wrong {
            background: #f44336;
            color: white;
            border-color: #f44336;
        }

        .drag-drop-area {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 20px;
        }

        .cell-diagram {
            border: 2px dashed #667eea;
            border-radius: 10px;
            padding: 20px;
            min-height: 300px;
            background: #f9f9ff;
        }

        .organelle-item {
            padding: 10px;
            margin: 5px;
            background: #667eea;
            color: white;
            border-radius: 5px;
            cursor: move;
            display: inline-block;
        }

        .organelle-item.dragging {
            opacity: 0.5;
        }

        .drop-zone {
            border: 2px dashed #ccc;
            padding: 10px;
            margin: 10px 0;
            border-radius: 5px;
            min-height: 50px;
            background: white;
        }

        .drop-zone.drag-over {
            background: #e3f2fd;
            border-color: #667eea;
        }

        .simulation-canvas {
            width: 100%;
            height: 400px;
            border: 2px solid #667eea;
            border-radius: 10px;
            background: #f0f0ff;
            position: relative;
            overflow: hidden;
        }

        .cell-organism {
            position: absolute;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            transition: all 0.5s;
        }

        .controls {
            margin-top: 20px;
            text-align: center;
        }

        .control-btn {
            padding: 12px 30px;
            margin: 5px;
            border: none;
            border-radius: 8px;
            background: #667eea;
            color: white;
            cursor: pointer;
            font-size: 1em;
            transition: all 0.3s;
        }

        .control-btn:hover {
            background: #764ba2;
            transform: scale(1.05);
        }

        .score-display {
            text-align: center;
            font-size: 1.5em;
            color: #667eea;
            margin: 20px 0;
            font-weight: bold;
        }

        .feedback {
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            text-align: center;
            font-weight: bold;
        }

        .feedback.success {
            background: #c8e6c9;
            color: #2e7d32;
        }

        .feedback.error {
            background: #ffcdd2;
            color: #c62828;
        }

        .matching-game {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .match-column {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .match-item {
            padding: 15px;
            background: #667eea;
            color: white;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
        }

        .match-item:hover {
            transform: scale(1.05);
        }

        .match-item.selected {
            background: #ffd700;
            color: #333;
        }

        .match-item.matched {
            background: #4caf50;
            cursor: default;
        }

        .back-btn {
            background: #757575;
            margin-top: 20px;
        }

        .info-box {
            background: #e3f2fd;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            border-left: 4px solid #667eea;
        }
    </style>
</head>
<body>
    <div class="game-container">
        <h1>üî¨ Cell Biology Adventure</h1>
        <div class="subtitle">Form 1 Science - Cell as the Basic Unit of Life</div>
        
        <div class="progress-bar">
            <div class="progress-fill" id="progressBar">Level 0/6</div>
        </div>

        <div class="score-display">Score: <span id="score">0</span> / 1000</div>

        <div id="menuScreen" class="level-selector">
            <button class="level-btn level-1" onclick="startLevel(1)">
                Level 1<br>What is a Cell?<br><small>‚≠ê 60 points</small>
            </button>
            <button class="level-btn level-2" onclick="startLevel(2)">
                Level 2<br>Cell Structure<br><small>‚≠ê 150 points</small>
            </button>
            <button class="level-btn level-3" onclick="startLevel(3)">
                Level 3<br>Unicellular vs Multicellular<br><small>‚≠ê 120 points</small>
            </button>
            <button class="level-btn level-4" onclick="startLevel(4)">
                Level 4<br>Cell Functions<br><small>‚≠ê 90 points</small>
            </button>
            <button class="level-btn level-5" onclick="startLevel(5)">
                Level 5<br>Building an Organism<br><small>‚≠ê 200 points</small>
            </button>
            <button class="level-btn level-6" onclick="startLevel(6)">
                Level 6<br>Cell Processes<br><small>‚≠ê 180 points</small>
            </button>
        </div>

        <div id="gameArea" class="game-area"></div>
    </div>

    <script>
        let score = 0;
        let currentLevel = 0;
        let completedLevels = new Set();

        const levelPoints = {
            1: 20,  // 20 per question √ó 3 = 60 total
            2: 150, // Drag and drop
            3: 20,  // 20 per match √ó 6 = 120 total
            4: 30,  // 30 per question √ó 3 = 90 total
            5: 200, // Simulation
            6: 45   // 45 per question √ó 4 = 180 total
        };

        const levels = {
            1: {
                title: "What is a Cell?",
                type: "quiz",
                questions: [
                    {
                        question: "What is the basic unit of life?",
                        options: ["Tissue", "Cell", "Organ", "Atom"],
                        correct: 1
                    },
                    {
                        question: "Who first discovered cells by observing cork under a microscope?",
                        options: ["Charles Darwin", "Robert Hooke", "Louis Pasteur", "Anton van Leeuwenhoek"],
                        correct: 1
                    },
                    {
                        question: "All living things are made up of:",
                        options: ["Atoms only", "One or more cells", "Molecules", "Proteins"],
                        correct: 1
                    }
                ]
            },
            2: {
                title: "Cell Structure - Drag and Drop",
                type: "drag",
                task: "animal"
            },
            3: {
                title: "Unicellular vs Multicellular Organisms",
                type: "matching",
                pairs: [
                    {left: "Amoeba", right: "Unicellular", id: 1},
                    {left: "Human", right: "Multicellular", id: 2},
                    {left: "Paramecium", right: "Unicellular", id: 3},
                    {left: "Oak Tree", right: "Multicellular", id: 4},
                    {left: "Bacteria", right: "Unicellular", id: 5},
                    {left: "Cat", right: "Multicellular", id: 6}
                ]
            },
            4: {
                title: "Functions of Cells",
                type: "quiz",
                questions: [
                    {
                        question: "What is the main function of red blood cells in animals?",
                        options: ["Digest food", "Transport oxygen", "Fight infection", "Store energy"],
                        correct: 1
                    },
                    {
                        question: "What is the main function of root hair cells in plants?",
                        options: ["Photosynthesis", "Absorb water and minerals", "Reproduction", "Support"],
                        correct: 1
                    },
                    {
                        question: "Which cells in the human body fight diseases?",
                        options: ["Nerve cells", "White blood cells", "Muscle cells", "Skin cells"],
                        correct: 1
                    }
                ]
            },
            5: {
                title: "Building an Organism",
                type: "simulation",
                info: "Watch how cells organize into tissues, organs, and systems!"
            },
            6: {
                title: "Cell Processes",
                type: "quiz",
                questions: [
                    {
                        question: "What process do plant cells use to make food using sunlight?",
                        options: ["Cell respiration", "Photosynthesis", "Digestion", "Reproduction"],
                        correct: 1
                    },
                    {
                        question: "The equation for photosynthesis involves:",
                        options: ["Oxygen + glucose ‚Üí carbon dioxide + water", "Carbon dioxide + water ‚Üí glucose + oxygen", "Glucose ‚Üí energy", "Water ‚Üí oxygen"],
                        correct: 1
                    },
                    {
                        question: "Cell respiration releases:",
                        options: ["Glucose", "Oxygen", "Energy", "Carbon dioxide and water"],
                        correct: 2
                    },
                    {
                        question: "Where does photosynthesis occur in plant cells?",
                        options: ["Nucleus", "Mitochondria", "Chloroplast", "Cell membrane"],
                        correct: 2
                    }
                ]
            }
        };

        function startLevel(levelNum) {
            currentLevel = levelNum;
            document.getElementById('menuScreen').style.display = 'none';
            const gameArea = document.getElementById('gameArea');
            gameArea.className = 'game-area active';
            
            const level = levels[levelNum];
            
            if (level.type === 'quiz') {
                renderQuiz(level);
            } else if (level.type === 'drag') {
                renderDragDrop(level);
            } else if (level.type === 'matching') {
                renderMatching(level);
            } else if (level.type === 'simulation') {
                renderSimulation(level);
            }
        }

        function renderQuiz(level) {
            let currentQ = 0;
            const gameArea = document.getElementById('gameArea');
            
            function showQuestion() {
                if (currentQ >= level.questions.length) {
                    completeLevel();
                    return;
                }
                
                const q = level.questions[currentQ];
                gameArea.innerHTML = `
                    <h2>${level.title}</h2>
                    <div class="question-box">
                        <div class="question-text">Question ${currentQ + 1}/${level.questions.length}: ${q.question}</div>
                        <div class="options">
                            ${q.options.map((opt, idx) => `
                                <button class="option-btn" onclick="checkAnswer(${idx}, ${q.correct})">${opt}</button>
                            `).join('')}
                        </div>
                    </div>
                    <div id="feedback"></div>
                `;
            }
            
            window.checkAnswer = function(selected, correct) {
                const buttons = document.querySelectorAll('.option-btn');
                buttons.forEach((btn, idx) => {
                    btn.disabled = true;
                    if (idx === correct) {
                        btn.classList.add('correct');
                    } else if (idx === selected && selected !== correct) {
                        btn.classList.add('wrong');
                    }
                });
                
                const feedback = document.getElementById('feedback');
                if (selected === correct) {
                    feedback.innerHTML = '<div class="feedback success">‚úì Correct! Well done!</div>';
                    addScore(levelPoints[currentLevel]);
                } else {
                    feedback.innerHTML = '<div class="feedback error">‚úó Incorrect. The correct answer is highlighted in green.</div>';
                }
                
                setTimeout(() => {
                    currentQ++;
                    showQuestion();
                }, 2000);
            };
            
            showQuestion();
        }

        function renderDragDrop(level) {
            const gameArea = document.getElementById('gameArea');
            const animalOrganelles = ['Nucleus', 'Cell Membrane', 'Cytoplasm', 'Mitochondria'];
            const plantOrganelles = ['Nucleus', 'Cell Membrane', 'Cytoplasm', 'Mitochondria', 'Cell Wall', 'Chloroplast', 'Large Vacuole'];
            
            const organelles = level.task === 'animal' ? animalOrganelles : plantOrganelles;
            const shuffled = [...organelles].sort(() => Math.random() - 0.5);
            
            gameArea.innerHTML = `
                <h2>${level.title}</h2>
                <div class="info-box">
                    <strong>Instructions:</strong> Drag the organelles into the ${level.task} cell diagram. 
                    ${level.task === 'animal' ? 'Animal cells have: nucleus, cell membrane, cytoplasm, and mitochondria.' : 
                    'Plant cells have all animal cell parts PLUS: cell wall, chloroplast, and large vacuole.'}
                </div>
                <div class="drag-drop-area">
                    <div>
                        <h3>Available Organelles</h3>
                        <div id="organelleBank">
                            ${shuffled.map(org => `
                                <div class="organelle-item" draggable="true" data-name="${org}">${org}</div>
                            `).join('')}
                        </div>
                    </div>
                    <div>
                        <h3>${level.task === 'animal' ? 'Animal' : 'Plant'} Cell</h3>
                        <div class="cell-diagram drop-zone" id="cellDiagram">
                            Drop organelles here
                        </div>
                    </div>
                </div>
                <div class="controls">
                    <button class="control-btn" onclick="checkCellStructure()">Check Answer</button>
                    <button class="control-btn back-btn" onclick="backToMenu()">Back to Menu</button>
                </div>
                <div id="feedback"></div>
            `;
            
            setupDragDrop(organelles);
        }

        function setupDragDrop(correctOrganelles) {
            const items = document.querySelectorAll('.organelle-item');
            const dropZone = document.getElementById('cellDiagram');
            
            items.forEach(item => {
                item.addEventListener('dragstart', e => {
                    e.dataTransfer.setData('text/plain', e.target.dataset.name);
                    e.target.classList.add('dragging');
                });
                
                item.addEventListener('dragend', e => {
                    e.target.classList.remove('dragging');
                });
            });
            
            dropZone.addEventListener('dragover', e => {
                e.preventDefault();
                dropZone.classList.add('drag-over');
            });
            
            dropZone.addEventListener('dragleave', () => {
                dropZone.classList.remove('drag-over');
            });
            
            dropZone.addEventListener('drop', e => {
                e.preventDefault();
                dropZone.classList.remove('drag-over');
                const name = e.dataTransfer.getData('text/plain');
                const item = document.querySelector(`[data-name="${name}"]`);
                if (item && item.parentElement.id !== 'cellDiagram') {
                    dropZone.appendChild(item);
                }
            });
            
            window.checkCellStructure = function() {
                const dropped = Array.from(dropZone.querySelectorAll('.organelle-item')).map(el => el.dataset.name);
                const correct = correctOrganelles.every(org => dropped.includes(org)) && 
                               dropped.length === correctOrganelles.length;
                
                const feedback = document.getElementById('feedback');
                if (correct) {
                    feedback.innerHTML = '<div class="feedback success">‚úì Perfect! You identified all the organelles correctly!</div>';
                    addScore(levelPoints[currentLevel]);
                    setTimeout(completeLevel, 2000);
                } else {
                    feedback.innerHTML = '<div class="feedback error">‚úó Not quite right. Make sure you have all the correct organelles.</div>';
                }
            };
        }

        function renderMatching(level) {
            const gameArea = document.getElementById('gameArea');
            const shuffledLeft = [...level.pairs].sort(() => Math.random() - 0.5);
            const shuffledRight = [...level.pairs.map(p => ({right: p.right, id: p.id}))].sort(() => Math.random() - 0.5);
            
            gameArea.innerHTML = `
                <h2>${level.title}</h2>
                <div class="info-box">
                    <strong>Instructions:</strong> Click on an organism and then click on its type (Unicellular or Multicellular) to match them.
                </div>
                <div class="matching-game">
                    <div class="match-column" id="leftColumn">
                        ${shuffledLeft.map(p => `
                            <div class="match-item" data-id="${p.id}" onclick="selectLeft(${p.id})">${p.left}</div>
                        `).join('')}
                    </div>
                    <div class="match-column" id="rightColumn">
                        ${shuffledRight.map(p => `
                            <div class="match-item" data-id="${p.id}" onclick="selectRight(${p.id})">${p.right}</div>
                        `).join('')}
                    </div>
                </div>
                <div class="controls">
                    <button class="control-btn back-btn" onclick="backToMenu()">Back to Menu</button>
                </div>
                <div id="feedback"></div>
            `;
            
            let selectedLeft = null;
            let matches = 0;
            
            window.selectLeft = function(id) {
                const items = document.querySelectorAll('#leftColumn .match-item');
                items.forEach(item => {
                    if (parseInt(item.dataset.id) === id && !item.classList.contains('matched')) {
                        item.classList.add('selected');
                        selectedLeft = id;
                    } else {
                        item.classList.remove('selected');
                    }
                });
            };
            
            window.selectRight = function(id) {
                if (selectedLeft === null) {
                    document.getElementById('feedback').innerHTML = '<div class="feedback error">Please select an organism first!</div>';
                    return;
                }
                
                if (selectedLeft === id) {
                    const leftItem = document.querySelector(`#leftColumn [data-id="${id}"]`);
                    const rightItem = document.querySelector(`#rightColumn [data-id="${id}"]`);
                    leftItem.classList.remove('selected');
                    leftItem.classList.add('matched');
                    rightItem.classList.add('matched');
                    
                    matches++;
                    addScore(levelPoints[currentLevel]);
                    
                    if (matches === level.pairs.length) {
                        document.getElementById('feedback').innerHTML = '<div class="feedback success">‚úì Excellent! All matches correct!</div>';
                        setTimeout(completeLevel, 2000);
                    } else {
                        document.getElementById('feedback').innerHTML = '<div class="feedback success">‚úì Correct match!</div>';
                    }
                    selectedLeft = null;
                } else {
                    document.getElementById('feedback').innerHTML = '<div class="feedback error">‚úó Incorrect match. Try again!</div>';
                    selectedLeft = null;
                    document.querySelectorAll('.match-item.selected').forEach(el => el.classList.remove('selected'));
                }
            };
        }

        function renderSimulation(level) {
            const gameArea = document.getElementById('gameArea');
            gameArea.innerHTML = `
                <h2>${level.title}</h2>
                <div class="info-box">
                    <strong>Organization of Life:</strong><br>
                    Cell ‚Üí Tissue ‚Üí Organ ‚Üí System ‚Üí Organism<br><br>
                    <strong>Example Human Body Systems:</strong> Digestive, Respiratory, Circulatory, Nervous, Skeletal, Muscular, Excretory, Reproductive
                </div>
                <div class="simulation-canvas" id="simCanvas"></div>
                <div class="controls">
                    <button class="control-btn" onclick="runSimulation()">Start Simulation</button>
                    <button class="control-btn back-btn" onclick="backToMenu()">Back to Menu</button>
                </div>
                <div id="feedback"></div>
            `;
            
            window.runSimulation = function() {
                const canvas = document.getElementById('simCanvas');
                canvas.innerHTML = '';
                
                const stages = [
                    {text: 'Single Cell', cells: 1, color: '#ff6b6b'},
                    {text: 'Multiple Cells', cells: 4, color: '#4ecdc4'},
                    {text: 'Tissue Formation', cells: 16, color: '#45b7d1'},
                    {text: 'Organ Development', cells: 25, color: '#96ceb4'},
                    {text: 'Complete Organism', cells: 50, color: '#ffeaa7'}
                ];
                
                let currentStage = 0;
                
                function showStage() {
                    if (currentStage >= stages.length) {
                        document.getElementById('feedback').innerHTML = '<div class="feedback success">‚úì Simulation complete! You earned ' + levelPoints[5] + ' points!</div>';
                        addScore(levelPoints[5]);
                        setTimeout(completeLevel, 2000);
                        return;
                    }
                    
                    const stage = stages[currentStage];
                    canvas.innerHTML = `<div style="position: absolute; top: 10px; left: 10px; font-size: 1.2em; font-weight: bold; color: #667eea;">Stage ${currentStage + 1}: ${stage.text}</div>`;
                    
                    for (let i = 0; i < stage.cells; i++) {
                        const cell = document.createElement('div');
                        cell.className = 'cell-organism';
                        cell.style.background = stage.color;
                        cell.style.left = Math.random() * (canvas.clientWidth - 30) + 'px';
                        cell.style.top = Math.random() * (canvas.clientHeight - 30) + 'px';
                        canvas.appendChild(cell);
                    }
                    
                    currentStage++;
                    setTimeout(showStage, 2000);
                }
                
                showStage();
            };
        }

        function addScore(points) {
            score += points;
            document.getElementById('score').textContent = score;
        }

        function completeLevel() {
            completedLevels.add(currentLevel);
            updateProgress();
            setTimeout(backToMenu, 1500);
        }

        function updateProgress() {
            const progress = (completedLevels.size / 6) * 100;
            const progressBar = document.getElementById('progressBar');
            progressBar.style.width = progress + '%';
            progressBar.textContent = `Level ${completedLevels.size}/6`;
        }

        function backToMenu() {
            document.getElementById('menuScreen').style.display = 'grid';
            document.getElementById('gameArea').className = 'game-area';
            document.getElementById('gameArea').innerHTML = '';
        }
    </script>
</body>
</html>