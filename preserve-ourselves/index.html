<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Life Cycle Garden</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .game-container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            max-width: 1200px;
            width: 100%;
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            text-align: center;
        }

        .header h1 {
            font-size: 2em;
            margin-bottom: 10px;
        }

        .stats-bar {
            display: flex;
            justify-content: space-around;
            padding: 15px;
            background: #f8f9fa;
            border-bottom: 2px solid #e9ecef;
        }

        .stat {
            text-align: center;
        }

        .stat-label {
            font-size: 0.9em;
            color: #6c757d;
        }

        .stat-value {
            font-size: 1.4em;
            font-weight: bold;
            color: #495057;
        }

        .game-area {
            display: grid;
            grid-template-columns: 250px 1fr 250px;
            gap: 20px;
            padding: 20px;
            min-height: 500px;
        }

        .sidebar {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
        }

        .sidebar h3 {
            margin-bottom: 15px;
            color: #495057;
            font-size: 1.1em;
        }

        .organism-btn {
            width: 100%;
            padding: 12px;
            margin-bottom: 10px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.95em;
            transition: all 0.3s;
            text-align: left;
            background: white;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .organism-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        }

        .organism-btn.selected {
            background: #667eea;
            color: white;
        }

        .garden {
            background: linear-gradient(to bottom, #87CEEB 0%, #90EE90 50%, #8B7355 100%);
            border-radius: 10px;
            position: relative;
            min-height: 500px;
            overflow: hidden;
            box-shadow: inset 0 0 20px rgba(0,0,0,0.1);
        }

        .organism {
            position: absolute;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
        }

        .organism:hover {
            transform: scale(1.1);
        }

        .organism-icon {
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .organism-label {
            font-size: 0.7em;
            background: rgba(255,255,255,0.9);
            padding: 2px 6px;
            border-radius: 4px;
            margin-top: 4px;
        }

        .info-panel {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
            max-height: 500px;
            overflow-y: auto;
        }

        .info-panel h3 {
            color: #495057;
            margin-bottom: 10px;
        }

        .info-content {
            font-size: 0.9em;
            line-height: 1.6;
            color: #6c757d;
        }

        .info-content strong {
            color: #495057;
        }

        .action-buttons {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        .action-btn {
            flex: 1;
            padding: 10px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
        }

        .action-btn.reproduce {
            background: #28a745;
            color: white;
        }

        .action-btn.remove {
            background: #dc3545;
            color: white;
        }

        .action-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        }

        .action-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }

        .message {
            position: fixed;
            top: 20px;
            right: 20px;
            background: white;
            padding: 15px 20px;
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
            z-index: 1000;
            animation: slideIn 0.3s ease-out;
        }

        @keyframes slideIn {
            from {
                transform: translateX(400px);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        .cycle-indicator {
            margin-top: 15px;
            padding: 10px;
            background: white;
            border-radius: 8px;
        }

        .cycle-bar {
            height: 20px;
            background: #e9ecef;
            border-radius: 10px;
            overflow: hidden;
            margin-top: 5px;
        }

        .cycle-progress {
            height: 100%;
            background: linear-gradient(90deg, #ff6b6b, #ee5a6f, #ff6b6b);
            transition: width 0.3s;
        }
    </style>
</head>
<body>
    <div class="game-container">
        <div class="header">
            <h1>üå± Life Cycle Garden üå±</h1>
            <p>Manage your ecosystem and learn about reproduction!</p>
        </div>

        <div class="stats-bar">
            <div class="stat">
                <div class="stat-label">Day</div>
                <div class="stat-value" id="day">1</div>
            </div>
            <div class="stat">
                <div class="stat-label">Population</div>
                <div class="stat-value" id="population">0</div>
            </div>
            <div class="stat">
                <div class="stat-label">Diversity</div>
                <div class="stat-value" id="diversity">0</div>
            </div>
            <div class="stat">
                <div class="stat-label">Score</div>
                <div class="stat-value" id="score">0</div>
            </div>
        </div>

        <div class="game-area">
            <div class="sidebar">
                <h3>Add Organisms</h3>
                <button class="organism-btn" data-type="flower">
                    üå∏ Flower (Sexual)
                </button>
                <button class="organism-btn" data-type="strawberry">
                    üçì Strawberry (Runners)
                </button>
                <button class="organism-btn" data-type="bacteria">
                    ü¶† Bacteria (Binary Fission)
                </button>
                <button class="organism-btn" data-type="yeast">
                    üçÑ Yeast (Budding)
                </button>
                <button class="organism-btn" data-type="human">
                    üë§ Human (Complex)
                </button>

                <div class="cycle-indicator" id="humanCycle" style="display:none;">
                    <strong>Menstrual Cycle</strong>
                    <div class="cycle-bar">
                        <div class="cycle-progress" id="cycleProgress"></div>
                    </div>
                    <div id="cycleDay" style="margin-top: 5px; font-size: 0.85em;"></div>
                </div>
            </div>

            <div class="garden" id="garden"></div>

            <div class="sidebar info-panel">
                <h3>Information</h3>
                <div class="info-content" id="infoContent">
                    <p><strong>Welcome to Life Cycle Garden!</strong></p>
                    <p>Click on organisms in the left panel to add them to your garden. Each organism reproduces differently:</p>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li><strong>Flowers:</strong> Sexual reproduction with pollination</li>
                        <li><strong>Strawberries:</strong> Asexual reproduction via runners</li>
                        <li><strong>Bacteria:</strong> Binary fission (splitting)</li>
                        <li><strong>Yeast:</strong> Budding process</li>
                        <li><strong>Humans:</strong> Complex sexual reproduction</li>
                    </ul>
                    <p style="margin-top: 10px;">Click organisms in the garden to learn more and trigger reproduction!</p>
                </div>
                <div class="action-buttons" id="actionButtons" style="display:none;">
                    <button class="action-btn reproduce" id="reproduceBtn">Reproduce</button>
                    <button class="action-btn remove" id="removeBtn">Remove</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        const garden = document.getElementById('garden');
        const infoContent = document.getElementById('infoContent');
        const actionButtons = document.getElementById('actionButtons');
        const reproduceBtn = document.getElementById('reproduceBtn');
        const removeBtn = document.getElementById('removeBtn');
        
        let organisms = [];
        let selectedOrganism = null;
        let day = 1;
        let score = 0;
        let humanCycleDay = 1;

        const organismData = {
            flower: {
                icon: 'üå∏',
                name: 'Flower',
                reproduction: 'sexual',
                info: '<strong>Sexual Reproduction in Plants:</strong> Flowers contain male (stamen with pollen) and female (pistil with ovary) parts. Pollination occurs when pollen reaches the stigma, followed by fertilization in the ovary. This creates seeds with genetic variation from two parents.',
                cost: 10,
                reproduceTime: 3
            },
            strawberry: {
                icon: 'üçì',
                name: 'Strawberry',
                reproduction: 'asexual',
                info: '<strong>Asexual Reproduction - Runners:</strong> Strawberries reproduce asexually through horizontal stems called runners. New plants are genetically identical to the parent (clones). This is faster than sexual reproduction but provides no genetic variation.',
                cost: 15,
                reproduceTime: 2
            },
            bacteria: {
                icon: 'ü¶†',
                name: 'Bacteria',
                reproduction: 'asexual',
                info: '<strong>Binary Fission:</strong> Bacteria reproduce asexually by copying their DNA and splitting into two identical cells. This is extremely fast (can occur every 20 minutes) but produces no genetic variation except through mutations.',
                cost: 5,
                reproduceTime: 1
            },
            yeast: {
                icon: 'üçÑ',
                name: 'Yeast',
                reproduction: 'asexual',
                info: '<strong>Budding:</strong> Yeast reproduces asexually by forming a small bud that grows and eventually separates. The offspring is initially smaller but genetically identical to the parent.',
                cost: 8,
                reproduceTime: 2
            },
            human: {
                icon: 'üë§',
                name: 'Human',
                reproduction: 'sexual',
                info: '<strong>Human Reproduction:</strong> Requires male and female. The menstrual cycle (28 days average) prepares the body for pregnancy. Fertilization occurs when sperm meets egg. Pregnancy lasts about 280 days. Fetal development is affected by nutrition, health, genetics, and environment. Infertility can be treated, and contraception prevents pregnancy.',
                cost: 50,
                reproduceTime: 10
            }
        };

        document.querySelectorAll('.organism-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                const type = btn.dataset.type;
                addOrganism(type);
            });
        });

        function addOrganism(type) {
            const data = organismData[type];
            if (score < data.cost) {
                showMessage('Not enough points! Click existing organisms to reproduce and earn points.', 'warning');
                return;
            }

            const x = Math.random() * (garden.offsetWidth - 80) + 20;
            const y = Math.random() * (garden.offsetHeight - 80) + 20;

            const organism = {
                id: Date.now(),
                type: type,
                x: x,
                y: y,
                age: 0,
                canReproduce: true,
                data: data
            };

            organisms.push(organism);
            score -= data.cost;
            renderOrganism(organism);
            updateStats();
            showMessage(`Added ${data.name}!`, 'success');
        }

        function renderOrganism(organism) {
            const div = document.createElement('div');
            div.className = 'organism';
            div.id = `org-${organism.id}`;
            div.style.left = organism.x + 'px';
            div.style.top = organism.y + 'px';
            div.innerHTML = `
                <div class="organism-icon">${organism.data.icon}</div>
                <div class="organism-label">${organism.data.name}</div>
            `;
            div.addEventListener('click', () => selectOrganism(organism));
            garden.appendChild(div);
        }

        function selectOrganism(organism) {
            selectedOrganism = organism;
            infoContent.innerHTML = organism.data.info;
            actionButtons.style.display = 'flex';
            
            reproduceBtn.disabled = !organism.canReproduce;
            
            if (organism.type === 'human') {
                document.getElementById('humanCycle').style.display = 'block';
                updateCycleDisplay();
            } else {
                document.getElementById('humanCycle').style.display = 'none';
            }
        }

        reproduceBtn.addEventListener('click', () => {
            if (!selectedOrganism) return;

            if (selectedOrganism.type === 'human') {
                reproduceHuman();
            } else if (selectedOrganism.type === 'flower') {
                reproduceFlower();
            } else {
                reproduceAsexual(selectedOrganism);
            }
        });

        removeBtn.addEventListener('click', () => {
            if (!selectedOrganism) return;
            
            const element = document.getElementById(`org-${selectedOrganism.id}`);
            if (element) element.remove();
            
            organisms = organisms.filter(o => o.id !== selectedOrganism.id);
            
            infoContent.innerHTML = '<p>Organism removed from garden.</p>';
            actionButtons.style.display = 'none';
            selectedOrganism = null;
            updateStats();
        });

        function reproduceAsexual(organism) {
            if (!organism.canReproduce) return;

            const offsetX = (Math.random() - 0.5) * 100;
            const offsetY = (Math.random() - 0.5) * 100;

            const newOrganism = {
                id: Date.now(),
                type: organism.type,
                x: Math.max(20, Math.min(garden.offsetWidth - 80, organism.x + offsetX)),
                y: Math.max(20, Math.min(garden.offsetHeight - 80, organism.y + offsetY)),
                age: 0,
                canReproduce: true,
                data: organism.data
            };

            organisms.push(newOrganism);
            renderOrganism(newOrganism);
            
            organism.canReproduce = false;
            setTimeout(() => organism.canReproduce = true, organism.data.reproduceTime * 1000);
            
            score += 10;
            updateStats();
            showMessage(`${organism.data.name} reproduced asexually! Clone created.`, 'success');
        }

        function reproduceFlower() {
            const flowers = organisms.filter(o => o.type === 'flower');
            if (flowers.length < 2) {
                showMessage('Need at least 2 flowers for sexual reproduction (pollination)!', 'warning');
                return;
            }

            const parent1 = selectedOrganism;
            const parent2 = flowers.find(f => f.id !== parent1.id);

            const x = (parent1.x + parent2.x) / 2 + (Math.random() - 0.5) * 80;
            const y = (parent1.y + parent2.y) / 2 + (Math.random() - 0.5) * 80;

            const newOrganism = {
                id: Date.now(),
                type: 'flower',
                x: Math.max(20, Math.min(garden.offsetWidth - 80, x)),
                y: Math.max(20, Math.min(garden.offsetHeight - 80, y)),
                age: 0,
                canReproduce: true,
                data: organismData.flower
            };

            organisms.push(newOrganism);
            renderOrganism(newOrganism);
            
            score += 20;
            updateStats();
            showMessage('Flowers cross-pollinated! Seed created with genetic variation.', 'success');
        }

        function reproduceHuman() {
            const humans = organisms.filter(o => o.type === 'human');
            if (humans.length < 2) {
                showMessage('Need 2 humans (male and female) for reproduction!', 'warning');
                return;
            }

            if (humanCycleDay < 12 || humanCycleDay > 16) {
                showMessage('Not the fertile window! Ovulation occurs around day 14 of the menstrual cycle.', 'info');
                return;
            }

            const parent1 = selectedOrganism;
            const parent2 = humans.find(h => h.id !== parent1.id);

            showMessage('Fertilization successful! Pregnancy begins. Development takes time...', 'success');

            setTimeout(() => {
                const x = (parent1.x + parent2.x) / 2 + (Math.random() - 0.5) * 100;
                const y = (parent1.y + parent2.y) / 2 + (Math.random() - 0.5) * 100;

                const newOrganism = {
                    id: Date.now(),
                    type: 'human',
                    x: Math.max(20, Math.min(garden.offsetWidth - 80, x)),
                    y: Math.max(20, Math.min(garden.offsetHeight - 80, y)),
                    age: 0,
                    canReproduce: true,
                    data: organismData.human
                };

                organisms.push(newOrganism);
                renderOrganism(newOrganism);
                
                score += 50;
                updateStats();
                showMessage('Birth! Baby human added. Factors like nutrition and health affected development.', 'success');
            }, 3000);
        }

        function updateStats() {
            document.getElementById('population').textContent = organisms.length;
            document.getElementById('score').textContent = score;
            
            const types = new Set(organisms.map(o => o.type));
            document.getElementById('diversity').textContent = types.size;
        }

        function updateCycleDisplay() {
            const progress = (humanCycleDay / 28) * 100;
            document.getElementById('cycleProgress').style.width = progress + '%';
            
            let phase = '';
            if (humanCycleDay <= 5) phase = 'Menstruation';
            else if (humanCycleDay <= 13) phase = 'Follicular Phase';
            else if (humanCycleDay <= 16) phase = 'Ovulation (Fertile!)';
            else phase = 'Luteal Phase';
            
            document.getElementById('cycleDay').innerHTML = `Day ${humanCycleDay}/28 - ${phase}`;
        }

        function showMessage(text, type) {
            const existing = document.querySelector('.message');
            if (existing) existing.remove();

            const msg = document.createElement('div');
            msg.className = 'message';
            msg.style.background = type === 'success' ? '#d4edda' : type === 'warning' ? '#fff3cd' : '#d1ecf1';
            msg.style.color = type === 'success' ? '#155724' : type === 'warning' ? '#856404' : '#0c5460';
            msg.textContent = text;
            document.body.appendChild(msg);

            setTimeout(() => msg.remove(), 4000);
        }

        setInterval(() => {
            day++;
            document.getElementById('day').textContent = day;
            
            organisms.forEach(o => o.age++);
            
            if (organisms.some(o => o.type === 'human')) {
                humanCycleDay++;
                if (humanCycleDay > 28) humanCycleDay = 1;
                if (selectedOrganism && selectedOrganism.type === 'human') {
                    updateCycleDisplay();
                }
            }
            
            if (day % 5 === 0 && organisms.length > 0) {
                score += organisms.length * 2;
                updateStats();
            }
        }, 2000);

        score = 50;
        updateStats();
    </script>
</body>
</html>